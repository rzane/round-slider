<!doctype html>
<html>
  <head>
    <title>Round-slider demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./src/round-slider.ts" type="module"></script>
  </head>
  <body style="margin-left: 24px">
    <style>
      round-slider {
        max-width: 200px;
        transition: all 1.3s ease-out 0s;
      }
    </style>

    <h2>Default (<span class="value">50</span>)</h2>
    <round-slider value="50" aria-label="Temperature"></round-slider>

    <!-- FIXME -->
    <h2>Styling (<span class="value">50</span>)</h2>
    <round-slider
      value="50"
      style="--round-slider-path-color: red"
    ></round-slider>
    <round-slider
      value="50"
      style="--round-slider-bar-color: red"
    ></round-slider>
    <round-slider
      value="50"
      style="--round-slider-handle-color: red"
    ></round-slider>

    <!-- FIXME -->
    <h2>Disabled</h2>
    <round-slider value="50" disabled></round-slider>

    <h2>Start Angle (<span class="value">50</span>)</h2>
    <round-slider value="50" startAngle="0"></round-slider>
    <round-slider value="50" startAngle="90"></round-slider>
    <round-slider value="50" startAngle="180"></round-slider>
    <round-slider value="50" startAngle="270"></round-slider>

    <h2>Arc Length (<span class="value">50</span>)</h2>
    <round-slider value="50" arcLength="90" startAngle="180"></round-slider>
    <round-slider value="50" arcLength="180" startAngle="180"></round-slider>
    <round-slider value="50" arcLength="360" startAngle="180"></round-slider>

    <script>
      const setValue = function (value, active) {
        document.querySelectorAll("round-slider").forEach(function (el) {
          if (el.value === undefined) return;
          el.value = value;
        });
        const span = document
          .querySelectorAll("span.value")
          .forEach(function (el) {
            el.innerHTML = value;
            if (active) el.style.color = "red";
            else el.style.color = "black";
          });
      };

      document.querySelectorAll("round-slider").forEach(function (el) {
        el.addEventListener("change", function (ev) {
          setValue(ev.detail.value, false);
        });

        el.addEventListener("input", function (ev) {
          setValue(ev.detail.value, true);
        });
      });
    </script>
  </body>
</html>
