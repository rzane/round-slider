<!doctype html>
<html>
  <head>
    <title>Round-slider demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./src/round-slider.ts" type="module"></script>
  </head>
  <body style="margin-left: 24px">
    <style>
      round-slider {
        max-width: 200px;
        transition: all 1.3s ease-out 0s;
        padding: 0 1em;
      }

      .styled::part(track) { stroke-width: 2; }
      .styled::part(progress) { stroke: black; stroke-width: 2; }
      .styled::part(thumb) { stroke: black }
    </style>

    <h2>Default (<span class="value">50</span>)</h2>
    <round-slider value="50" aria-label="Temperature"></round-slider>

    <h2>Styling (<span class="value">50</span>)</h2>
    <round-slider value="50" class="styled"></round-slider>

    <!-- FIXME -->
    <h2>Disabled</h2>
    <round-slider value="50" disabled></round-slider>

    <h2>Shapes (<span class="value">50</span>)</h2>
    <round-slider value="50" arc="90" rotate="180"></round-slider>
    <round-slider value="50" arc="180" rotate="180"></round-slider>
    <round-slider value="50" arc="360" rotate="180"></round-slider>

    <script>
      const setValue = function (value, active) {
        document.querySelectorAll("round-slider").forEach(function (el) {
          if (el.value === undefined) return;
          el.value = value;
        });
        const span = document
          .querySelectorAll("span.value")
          .forEach(function (el) {
            el.innerHTML = value;
            el.style.color = active ? "red" : "black";
          });
      };

      document.querySelectorAll("round-slider").forEach(function (el) {
        el.addEventListener("change", function (ev) {
          setValue(ev.target.value, false);
        });

        el.addEventListener("input", function (ev) {
          setValue(ev.target.value, true);
        });
      });
    </script>
  </body>
</html>
